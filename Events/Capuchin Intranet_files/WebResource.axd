
var DayPilot={};DayPilot.$=function(id){return document.getElementById(id);};DayPilot.mo=function(t,ev){ev=ev||window.event;if(ev.layerX){var $a={x:ev.layerX,y:ev.layerY};if(!t){return $a;};return $a;};if(ev.offsetX){return{x:ev.offsetX,y:ev.offsetY};};return null;};DayPilot.isKhtml=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!=-1);DayPilot.mo2=function($b,ev){ev=ev||window.event;if(typeof(ev.layerX)!=='undefined'){var $a={x:ev.layerX,y:ev.layerY,$c:ev.target};if(!$b){return $a;};var $d=ev.target;while($d&&$d.style.position!='absolute'&&$d.style.position!='relative'){$d=$d.parentNode;if(DayPilot.isKhtml){$a.y+=$d.scrollTop;}}while($d&&$d!=$b){$a.x+=$d.offsetLeft;$a.y+=$d.offsetTop-$d.scrollTop;$d=$d.offsetParent;};if($d){return $a;};return null;};if(typeof(ev.offsetX)!=='undefined'){var $a={x:ev.offsetX+1,y:ev.offsetY+1};if(!$b){return $a;};var $d=ev.srcElement;while($d&&$d!=$b){if($d.tagName!='SPAN'){$a.x+=$d.offsetLeft;$a.y+=$d.offsetTop-$d.scrollTop;};$d=$d.offsetParent;};if($d){return $a;};return null;};return null;};DayPilot.abs=function(element){var r={x:element.offsetLeft,y:element.offsetTop};while(element.offsetParent){element=element.offsetParent;r.x+=element.offsetLeft;r.y+=element.offsetTop;};return r;};DayPilot.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};DayPilot.re=function(el,ev,$e){if(el.addEventListener){el.addEventListener(ev,$e,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$e);}};DayPilot.tr=function($f){if(!$f)return '';return $f.replace(/^\s+|\s+$/g,"");};DayPilot.ds=function(d){return DayPilot.Date.toStringSortable(d);};DayPilot.gs=function(el,$g){var x=el;if(x.currentStyle)var y=x.currentStyle[$g];else if(window.getComputedStyle)var y=document.defaultView.getComputedStyle(x,null).getPropertyValue($g);if(typeof(y)=='undefined')y='';return y;};DayPilot.ea=function(a){var $h="";for(var i=0;i<a.length;i++){if(a[i]||typeof(a[i])=='number'){if(a[i].isDayPilotDate){a[i]=a[i].toStringSortable();}else if(a[i].getFullYear){a[i]=DayPilot.ds(a[i]);};$h+=encodeURIComponent(a[i]);};if(i+1<a.length){$h+='&';}};return $h;};DayPilot.ci=function($i){var i=$i.cellIndex;if(i&&i>0)return i;var tr=$i.parentNode;var $j=tr.cells.length;for(i=0;i<$j;i++){if(tr.cells[i]==$i)return i;};return null;};DayPilot.json=function($k){};DayPilot.us=function(element){if(element){element.unselectable='on';element.style.MozUserSelect='none';for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType==1){DayPilot.us(element.childNodes[i]);}}}};DayPilot.pu=function(d){var a=d.attributes,i,l,n;if(a){l=a.length;for(i=0;i<l;i+=1){n=a[i].name;if(typeof d[n]==='function'){d[n]=null;}}};a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){DayPilot.pu(d.childNodes[i]);}}};DayPilot.de=function(e){if(!e){return;};if(!e.parentNode){return;};e.parentNode.removeChild(e);};DayPilot.gr=function($i){var i=0;var tr=$i.parentNode;while(tr.previousSibling){tr=tr.previousSibling;if(tr.tagName==="TR"){i++;}};return i;};DayPilot.Selection=function($l,end,$m,$n){this.type='selection';this.start=$l.isDayPilotDate?$l:new DayPilot.Date($l);this.end=end.isDayPilotDate?end:new DayPilot.Date(end);this.resource=$m;this.root=$n;this.toJSON=function($o){var $p={};$p.start=this.start;$p.end=this.end;$p.resource=this.resource;return $p;};};DayPilot.Event=function(id,$q,$r){this.value=function(){return id};this.tag=function(){return null};this.start=function(){return new DayPilot.Date('2000-01-01T00:00:00');};this.end=function(){return this.start().addTime($q*1000);};this.text=function(){return $r;};this.isAllDay=function(){return false;};this.resource=function(){return null;};this.toJSON=function($o){var $p={};$p.value=this.value();$p.text=this.text();$p.start=this.start();$p.end=this.end();$p.resource=null;$p.isAllDay=false;$p.tag={};return $p;};};DayPilot.EventData=function(e){this.value=function(){return id};this.tag=function(){return null};this.start=function(){return new Date(0)};this.end=function(){return new Date($q*1000);};this.text=function(){return $r;};this.isAllDay=function(){return false;};};DayPilot.request=function($s,$t,$u,$v){var $w=DayPilot.createXmlHttp();if(!$w){return;};$w.open("POST",$s,true);$w.setRequestHeader('User-Agent','XMLHTTP/1.0');$w.setRequestHeader('Content-type','application/x-www-form-urlencoded');$w.onreadystatechange=function(){if($w.readyState!=4)return;if($w.status!=200&&$w.status!=304){if($v){$v($w);}else{alert('HTTP error '+$w.status);};return;};$t($w);};if($w.readyState==4)return;$w.send($u);};DayPilot.createXmlHttp=function(){var $x;try{$x=new XMLHttpRequest();}catch(e){try{$x=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $x;};DayPilot.Date=function($y,$z){this.isDayPilotDate=true;if(!$y){this.d=DayPilot.Date.fromLocal();return;};if(typeof($y)=="string"){return DayPilot.Date.fromStringSortable($y);};if($y.isDayPilotDate){return $y;};if(!$y.getFullYear){throw "date parameter is not a Date object";};if($z){this.d=DayPilot.Date.fromLocal($y);}else{this.d=$y;};this.ticks=this.d.getTime();};DayPilot.Date.prototype.addDays=function($A){return new DayPilot.Date(DayPilot.Date.addDays(this.d,$A));};DayPilot.Date.prototype.addHours=function($B){return this.addTime($B*60*60*1000);};DayPilot.Date.prototype.addMilliseconds=function($C){return this.addTime($C);};DayPilot.Date.prototype.addMinutes=function($D){return this.addTime($D*60*1000);};DayPilot.Date.prototype.addMonths=function($E){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,$E));};DayPilot.Date.prototype.addSeconds=function($F){return this.addTime($F*1000);};DayPilot.Date.prototype.addTime=function($G){return new DayPilot.Date(DayPilot.Date.addTime(this.d,$G));};DayPilot.Date.prototype.addYears=function($H){var n=this.clone();n.d.setUTCFullYear(this.getFullYear()+$H);return n;};DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d));};DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.equals=function($I){if($I===null){return false;};if($I.isDayPilotDate){return DayPilot.Date.equals(this.d,$I.d);}else{throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";}};DayPilot.Date.prototype.firstDayOfMonth=function(){var $J=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($J);};DayPilot.Date.prototype.firstDayOfWeek=function($K){var $J=DayPilot.Date.firstDayOfWeek(this.d,$K);return new DayPilot.Date($J);};DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate();};DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d));};DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear();};DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours();};DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds();};DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes();};DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth();};DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds();};DayPilot.Date.prototype.getTotalTicks=function(){return this.ticks;};DayPilot.Date.prototype.getTime=function(){return this.ticks;};DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d);};DayPilot.Date.prototype.lastDayOfMonth=function(){var $J=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($J);};DayPilot.Date.prototype.toJSON=function(){return this.toStringSortable();};DayPilot.Date.prototype.toString=function(){return DayPilot.Date.toLocal(this.d).toLocaleString();};DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d);};DayPilot.Date.fromStringSortable=function($L){var $M=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/;var $N=$M.test($L);if(!$N){throw "Invalid string format";};var m=$M.exec($L);var d=new Date();d.setUTCFullYear(m[1],m[2]-1,m[3]);d.setUTCHours(m[4]);d.setUTCMinutes(m[5]);d.setUTCSeconds(m[6]);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.addDays=function($y,$A){var d=new Date();d.setTime($y.getTime()+$A*24*60*60*1000);return d;};DayPilot.Date.addMinutes=function($y,$D){var d=new Date();d.setTime($y.getTime()+$D*60*1000);return d;};DayPilot.Date.addMonths=function($y,$E){if($E==0)return $y;var y=$y.getUTCFullYear();var m=$y.getUTCMonth()+1;if($E>0){while($E>=12){$E-=12;y++;};if($E>12-m){y++;m=$E-(12-m);}else{m+=$E;}}else{while($E<=-12){$E+=12;y--;};if(m<=$E){y--;m=12-($E+m);}else{m=m+$E;}};var d=DayPilot.Date.clone($y);d.setUTCFullYear(y);d.setUTCMonth(m-1);return d;};DayPilot.Date.addTime=function($y,$O){var d=new Date();d.setTime($y.getTime()+$O);return d;};DayPilot.Date.clone=function($P){var d=new Date();return DayPilot.Date.dateFromTicks($P.getTime());};DayPilot.Date.daysDiff=function($Q,$R){if($Q.getTime()>$R.getTime()){return null;};var i=0;var $S=DayPilot.Date.getDate($Q);var $T=DayPilot.Date.getDate($R);while($S<$T){$S=DayPilot.Date.addDays($S,1);i++;};return i;};DayPilot.Date.daysInMonth=function($U,$V){if($U.getUTCFullYear){$V=$U.getUTCMonth()+1;$U=$U.getUTCFullYear();};var m=[31,28,31,30,31,30,31,31,30,31,30,31];if($V!=2)return m[$V-1];if($U%4!=0)return m[1];if($U%100==0&&$U%400!=0)return m[1];return m[1]+1;};DayPilot.Date.daysSpan=function($Q,$R){if($Q.getTime()==$R.getTime()){return 0;};var $W=DayPilot.Date.daysDiff($Q,$R);if(DayPilot.Date.equals($R,DayPilot.Date.getDate($R))){$W--;};return $W;};DayPilot.Date.diff=function($Q,$R){if(!($Q&&$R&&$Q.getTime&&$R.getTime)){throw "Both compared objects must be Date objects (DayPilot.Date.diff).";};return $Q.getTime()-$R.getTime();};DayPilot.Date.equals=function($Q,$R){return $Q.getTime()==$R.getTime();};DayPilot.Date.fromLocal=function($X){if(!$X){$X=new Date();};var d=new Date();d.setUTCFullYear($X.getFullYear(),$X.getMonth(),$X.getDate());d.setUTCHours($X.getHours());d.setUTCMinutes($X.getMinutes());d.setUTCSeconds($X.getSeconds());d.setUTCMilliseconds($X.getMilliseconds());return d;};DayPilot.Date.firstDayOfMonth=function($U,$V){var d=new Date();d.setUTCFullYear($U,$V-1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.firstDayOfWeek=function(d,$K){var $Y=d.getUTCDay();while($Y!=$K){d=DayPilot.Date.addDays(d,-1);$Y=d.getUTCDay();};return d;};DayPilot.Date.dateFromTicks=function($G){var d=new Date();d.setTime($G);return d;};DayPilot.Date.getDate=function($P){var d=DayPilot.Date.clone($P);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.getStart=function($U,$V,$K){var $Z=DayPilot.Date.firstDayOfMonth($U,$V);d=DayPilot.Date.firstDayOfWeek($Z,$K);return d;};DayPilot.Date.getTime=function($P){var $y=DayPilot.Date.getDate($P);return DayPilot.Date.diff($P,$y);};DayPilot.Date.hours=function($y,$00){var $01=$y.getUTCMinutes();if($01<10)$01="0"+$01;var $02=$y.getUTCHours();if($00){var am=$02<12;var $02=$02%12;if($02==0){$02=12;};var $03=am?"AM":"PM";return $02+':'+$01+' '+$03;}else{return $02+':'+$01;}};DayPilot.Date.lastDayOfMonth=function($U,$V){var d=DayPilot.Date.firstDayOfMonth($U,$V);var length=DayPilot.Date.daysInMonth($U,$V);d.setUTCDate(length);return d;};DayPilot.Date.max=function($Q,$R){if($Q.getTime()>$R.getTime()){return $Q;}else{return $R;}};DayPilot.Date.min=function($Q,$R){if($Q.getTime()<$R.getTime()){return $Q;}else{return $R;}};DayPilot.Date.today=function(){var $04=new Date();var d=new Date();d.setUTCFullYear($04.getFullYear());d.setUTCMonth($04.getMonth());d.setUTCDate($04.getDate());return d;};DayPilot.Date.toLocal=function($y){if(!$y){$y=new Date();};var d=new Date();d.setFullYear($y.getUTCFullYear(),$y.getUTCMonth(),$y.getUTCDate());d.setHours($y.getUTCHours());d.setMinutes($y.getUTCMinutes());d.setSeconds($y.getUTCSeconds());d.setMilliseconds($y.getUTCMilliseconds());return d;};DayPilot.Date.toStringSortable=function($y){if($y.isDayPilotDate){return $y.toStringSortable();};var d=$y;var $R=d.getUTCSeconds();if($R<10)$R="0"+$R;var $01=d.getUTCMinutes();if($01<10)$01="0"+$01;var $02=d.getUTCHours();if($02<10)$02="0"+$02;var $Y=d.getUTCDate();if($Y<10)$Y="0"+$Y;var $V=d.getUTCMonth()+1;if($V<10)$V="0"+$V;var $U=d.getUTCFullYear();return $U+"-"+$V+"-"+$Y+'T'+$02+":"+$01+":"+$R;};DayPilot.JSON={};(function(){function f(n){return n<10?'0'+n:n;};if(typeof Date.prototype.toJSON2!=='function'){Date.prototype.toJSON2=function($o){return this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function($o){return this.valueOf();};};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$05=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$06,$07,$08={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},$09;function quote($L){$05.lastIndex=0;return $05.test($L)?'"'+$L.replace($05,function(a){var c=$08[a];if(typeof c==='string'){return c;};return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+$L+'"';};function str($o,$0a){var i,k,v,length,$0b=$06,$0c,$0d=$0a[$o];if($0d&&typeof $0d==='object'&&typeof $0d.toJSON2==='function'){$0d=$0d.toJSON2($o);}else if($0d&&typeof $0d==='object'&&typeof $0d.toJSON==='function'){$0d=$0d.toJSON($o);};if(typeof $09==='function'){$0d=$09.call($0a,$o,$0d);};switch(typeof $0d){case 'string':return quote($0d);case 'number':return isFinite($0d)?String($0d):'null';case 'boolean':case 'null':return String($0d);case 'object':if(!$0d){return 'null';};$06+=$07;$0c=[];if(typeof $0d.length==='number'&&!$0d.propertyIsEnumerable('length')){length=$0d.length;for(i=0;i<length;i+=1){$0c[i]=str(i,$0d)||'null';};v=$0c.length===0?'[]':$06?'[\n'+$06+$0c.join(',\n'+$06)+'\n'+$0b+']':'['+$0c.join(',')+']';$06=$0b;return v;};if($09&&typeof $09==='object'){length=$09.length;for(i=0;i<length;i+=1){k=$09[i];if(typeof k==='string'){v=str(k,$0d);if(v){$0c.push(quote(k)+($06?': ':':')+v);}}}}else{for(k in $0d){if(Object.hasOwnProperty.call($0d,k)){v=str(k,$0d);if(v){$0c.push(quote(k)+($06?': ':':')+v);}}}};v=($0c.length===0)?'{\u007D':$06?'{\n'+$06+$0c.join(',\n'+$06)+'\n'+$0b+'\u007D':'{'+$0c.join(',')+'\u007D';$06=$0b;return v;}};if(typeof DayPilot.JSON.stringify!=='function'){DayPilot.JSON.stringify=function($0d,$0e,$0f){var i;$06='';$07='';if(typeof $0f==='number'){for(i=0;i<$0f;i+=1){$07+=' ';}}else if(typeof $0f==='string'){$07=$0f;};$09=$0e;if($0e&&typeof $0e!=='function'&&(typeof $0e!=='object'||typeof $0e.length!=='number')){throw new Error('JSON.stringify');};return str('',{'':$0d});};}})();


